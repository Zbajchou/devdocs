<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>.magento.app.yaml</title>
	<meta name="description" content="Magento 2 Developer Guide.
">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print"/>
	<link rel="canonical" href="//guides/v2.0/cloud/project/project-conf-files_magento-app.html">

	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

</head>
<body>

<!--Search Results Overlay -->
<div class="searchResultsBack"></div>
<div id="searchResultsBox">
	<div class="searchResultsBoxClose">Close [x]<!-- <img src="/common/images/close.png" alt="Close"> --></div>
	<gcse:search></gcse:search>
	<!-- <gcse:searchresults-only></gcse:searchresults-only> -->
</div>
<!--End Search Results Overlay -->

<header class="site-header">

	<nav role="navigation">

		<div class="menu-btn">
			<a class="menu-trigger menu-icon" href="#"></a>
		</div>

		<div id="global-nav">
			<div class="main-site-name">
				<a class="logo pull-left" href="/"> </a>
				<div class="sub-site-name">
					<a href="/">Developer Documentation (2.0)</a>
				</div>
			</div>
			
<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" data-toggle="dropdown">
		Version 2.0
	</button>


	<ul class="dropdown-menu dropdown-menu-right">
	
		<li><a class="dropdown-item" href="/guides/v2.0/">Version 2.0</a></li>
	
		<li><a class="dropdown-item" href="/">Version 2.1</a></li>
	
  </ul>

</div>


		</div><!-- #global-nav -->
	</nav>

	<div class="search-btn">
		<a class="search-trigger search-icon" href="#"></a>
	</div>

</header>

<!--Sub Navigation-->
<div id="subnav-wrap" class="nav-main">
   <div id="subnav">
      <ul class="menu nav">
         <li class="first">
            <a href="#">Get Started</a>
            <ul class="menu nav">
               <li class="leaf"><a href="/guides/v2.0/architecture/bk-architecture.html">Magento Architecture</a></li>
               <li class="first leaf"><a href="/guides/v2.0/release-notes/bk-release-notes.html">Release Information</a></li>
               
            </ul>
         </li>
         <li class="first">
            <a href="#">System Administrator</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/install-gde/bk-install-guide.html">Installation Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/config-guide/bk-config-guide.html">Configuration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/migration/bk-migration-guide.html">Migration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/cloud/bk-cloud.html">Magento Enterprise Cloud Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Developers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a>
               <li class="first leaf"><a href="/guides/v2.0/ui-components/ui-component.html">UI Components</a>
   			   <li class="first leaf"><a href="/guides/v2.0/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a>
               <div class="divider"></div></li>
               <li class="first leaf"><a href="/guides/v2.0/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
<li class="first leaf"><a href="/guides/v2.0/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/pattern-library/bk-pattern.html">Magento Admin Pattern Library</a></li>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
               <li class="leaf"><a href="/guides/v2.0/rest/bk-rest.html">REST Reference</a></li>
               <li class="leaf"><a href="/guides/v2.0/soap/bk-soap.html">SOAP Reference</a>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Designers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
               <li class="leaf"><a href="/guides/v2.0/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Contributor</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/contributor-guide/contributing.html">Contributor Guide</a></li>
            </ul>
         </li>
          <li class="first">
              <a href="/guides/v2.0/test/testing.html">Testing</a>
              <ul class="menu nav">
                  <li class="leaf"><a href="/guides/v2.0/mtf/mtf_introduction.html">Functional Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/test/integration/integration_test_execution.html">Integration Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/extension-dev-guide/test/test_js-unit.html">JavaScript Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
              </ul>
          </li>
         <li class="first">
            <a href="/guides/v2.0/howdoi/bk-how-do-i.html">How Do I...?</a>
         </li>
      </ul>

      <div class ="search">
         <div class="search-icon"></div>
         <form id="searchbox" name="gs" method="GET" action="#searchResultsBox">
            <input type="hidden" name="cx" value="018116925022773002786:klu67apuihk" />
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="text" name="q" id="searchtext" value="" placeholder="Search">
         </form>
      </div><!-- END searchbox-->

      <a href="#" class="nav-close">&times;</a>

   </div> <!--End subnav -->
</div><!--End subnav-wrap -->
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- /.main-container -->
	<div id="gl-container" class="main-container">
		<a id="main-content"></a>
		<div class="pane-content">
			<div class="node node-panel">


<!-- page-header -->
<section class="page-intro">
	<div class="container">
		<h1 class="page-heading">.magento.app.yaml</h1>
		
			<a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.0/cloud/project/project-conf-files_magento-app.md" target="_blank">Edit this page on GitHub</a>
		
		
	</div>
</section>


<div class="container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">


<h4>Magento Enterprise Cloud Guide</h4>





		<ul role="navigation">

		

		

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

					
					

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/bk-cloud.html">Welcome to Magento Enterprise Cloud Edition</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-arch.html">Architecture</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-workflow.html">Workflow</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-deploy.html">Deployment process</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/discover-tools.html">Tooling</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/cloud-requirements.html">Magento Enterprise Cloud Edition requirements</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/get-help.html">Get help with your deployment</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/before/before.html">Before you get started</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/before/terms.html">Common terms</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/before/before-repos.html">Magento Enterprise Cloud Edition repositories</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/access-acct/first-time-setup.html">First-time setup</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/before/before-workspace.html">Set up a Magento workspace</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/first-time-setup_template.html">Create a sample Magento project from a template</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/first-time-setup_import.html">Import an existing Magento project</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/first-time-setup_dir-structure.html">Project directory structure</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/access-acct/trouble.html">Troubleshoot deployment</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/project/projects.html">Manage your projects</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/project/project-start.html">Get started with a project</a></li>

									

								

									

										<li class="level3Parent " id="project"><a href="#">Use the project Web Interface</a>


									

								

									


											<li class="level3Child project " data-menunode="project"><a href="/guides/v2.0/cloud/project/project-webint-basic.html">Basic project information</a>


									

								

									


											<li class="level3Child project " data-menunode="project"><a href="/guides/v2.0/cloud/project/project-webint-branch.html">Manage environments (branches)</a>


									

								

									


											<li class="level3Child project " data-menunode="project"><a href="/guides/v2.0/cloud/project/project-webint-snap.html">Project backup and restore (snapshot)</a>


									

								

									

									<li class="level-2  active "><a href="/guides/v2.0/cloud/project/project-conf-files_magento-app.html">.magento.app.yaml</a></li>

									

								

									

										<li class="level3Parent " id="routes"><a href="#">Configure routes</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-conf-files_routes.html">routes.yaml</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-routes-more-cache.html">Caching</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-routes-more-redir.html">Redirects</a>


									

								

									


											<li class="level3Child routes " data-menunode="routes"><a href="/guides/v2.0/cloud/project/project-routes-more-ssi.html">Server side includes</a>


									

								

									

										<li class="level3Parent " id="services"><a href="#">Configure services</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services.html">services.yaml</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-mysql.html">Set up the mysql service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-redis.html">Set up the redis service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-solr.html">Set up the solr service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-elastic.html">Set up the elasticsearch service</a>


									

								

									


											<li class="level3Child services " data-menunode="services"><a href="/guides/v2.0/cloud/project/project-conf-files_services-rabbit.html">Set up the rabbitmq service</a>


									

								

									

										<li class="level3Parent " id="integrate"><a href="#">Integrations</a>


									

								

									


											<li class="level3Child integrate " data-menunode="integrate"><a href="/guides/v2.0/cloud/project/project-integrate-blackfire.html">Blackfire integration</a>


									

								

									


											<li class="level3Child integrate " data-menunode="integrate"><a href="/guides/v2.0/cloud/project/project-integrate-github.html">GitHub integration</a>


									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/project/project-priv-repos.html">Pull code from a private Git repository</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/env/environments.html">Manage your environments</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/env/environments-start.html">Get started with an environment</a></li>

									

								

									

										<li class="level3Parent " id="vars"><a href="#">Environment variables</a>


									

								

									


											<li class="level3Child vars " data-menunode="vars"><a href="/guides/v2.0/cloud/env/environment-vars_over.html">Overview of environment variables</a>


									

								

									


											<li class="level3Child vars " data-menunode="vars"><a href="/guides/v2.0/cloud/env/environment-vars_cloud.html">Magento Cloud environment variables</a>


									

								

									


											<li class="level3Child vars " data-menunode="vars"><a href="/guides/v2.0/cloud/env/environment-vars_magento.html">Magento application environment variables</a>


									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/howtos/how-to.html">Tutorials</a></li>
									
								

									


								

									

										<li class="level3Parent " id="upgrade-update"><a href="#">Upgrade and update tutorials</a>


									

								

									


											<li class="level3Child upgrade-update " data-menunode="upgrade-update"><a href="/guides/v2.0/cloud/howtos/upgrade-magento.html">Upgrade the Magento system software</a>


									

								

									


											<li class="level3Child upgrade-update " data-menunode="upgrade-update"><a href="/guides/v2.0/cloud/howtos/install-components.html">Install components</a>


									

								

									


											<li class="level3Child upgrade-update " data-menunode="upgrade-update"><a href="/guides/v2.0/cloud/howtos/update-components.html">Update components</a>


									

								

									

										<li class="level3Parent " id="env-tut"><a href="#">Environment tutorials</a>


									

								

									


											<li class="level3Child env-tut " data-menunode="env-tut"><a href="/guides/v2.0/cloud/howtos/environment-tutorial-set-mage-vars.html">Set Magento environment variables</a>


									

								

									


											<li class="level3Child env-tut " data-menunode="env-tut"><a href="/guides/v2.0/cloud/howtos/environment-tutorial-env-merge.html">Merge and delete an environment</a>


									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/howtos/sample-data.html">Install optional sample data</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/howtos/debug.html">Run a PHP debugger</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/admin/administer.html">Other administrative tasks</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/admin/admin-user-admin.html">Manage users</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/admin/admin-snap.html">Snapshot and restore</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/live/live.html">Go live</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/live/live-prot.html">Protective block</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/cloud/trouble/trouble.html">Troubleshooting</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a></li>

									

								




						

					


				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

		</ul>

	</div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<p align="right"><i>Updated: 22 June 2016 (PDT)</i></p>
		<h4 id="contents">Contents</h4>
<ul>
  <li><a href="#cloud-yaml-platform">About <code>.magento.app.yaml</code></a></li>
  <li><a href="#cloud-yaml-default">Defaults</a></li>
  <li><a href="#name"><code>name</code></a></li>
  <li><a href="#cloud-yaml-platform-type"><code>type</code> and <code>build</code></a></li>
  <li><a href="#cloud-yaml-platform-access"><code>access</code></a></li>
  <li><a href="#cloud-yaml-platform-rel"><code>relationships</code></a></li>
  <li><a href="#cloud-yaml-platform-web"><code>web</code></a> </li>
  <li><a href="#cloud-yaml-platform-disk"><code>disk</code></a></li>
  <li><a href="#cloud-yaml-platform-mounts"><code>mounts</code></a></li>
  <li><a href="#cloud-yaml-platform-dep"><code>dependencies</code></a> </li>
  <li><a href="#cloud-yaml-platform-hooks"><code>hooks</code></a></li>
  <li><a href="#cloud-yaml-platform-cron"><code>crons</code></a> </li>
  <li><a href="#cloud-yaml-platform-php">Configure PHP options</a></li>
</ul>

<h2 id="cloud-yaml-platform">About <code>.magento.app.yaml</code></h2>
<p>Magento Enterprise Cloud Edition supports multiple applications per project but typically, a project is composed of a single application, in which case you can simply put a <code>.magento.app.yaml</code> at the root of your repository.</p>

<p>This file controls the application and the way it is built and deployed on Magento Enterprise Cloud Edition.</p>

<p><a href="https://github.com/magento/magento-cloud/blob/master/.magento.app.yaml" target="_blank">Sample <code>.magento.app.yaml</code></a></p>

<p>The following sections discuss properties in <code>.magento.app.yaml</code>.</p>

<h2 id="cloud-yaml-default">Defaults</h2>
<p><code>.magento.app.yaml</code> has many default values; see the <a href="https://github.com/magento/magento-cloud/blob/master/.magento.app.yaml" target="_blank">sample <code>.magento.app.yaml</code></a>.</p>

<h2 id="name"><code>name</code> property</h2>
<p><code>name</code> identifies the application in the project. Magento Enterprise Cloud Edition
supports multiple applications in a project, so each application
must have a <em>unique name</em> in a project. </p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p><code>name</code> can consist only of lower case alphanumeric characters; that is, <code>a</code>–<code>z</code> and <code>0</code>–<code>9</code>. <code>name</code>
is used in the <a href="/guides/v2.0/cloud/project/project-conf-files_routes.html"><code>routes.yaml</code></a> to define the HTTP upstream
(by default, <code>php:php</code>). </p>

<p>For example, if the value of <code>name</code> is <code>app</code>, you must use <code>app:php</code> in the upstream field. You can also use this name in multi-application relationships.</p>

<div class="bs-callout bs-callout-info" id="info">
  <p>If you change the name you should think about updating your other configuration files (<code>routes.yaml</code> or the different <code>.magento.app.yaml</code>, you will have in a multi-application project. Changing the name has no effect on your different services (such as databases).</p>
</div>
</div></div>

<h2 id="cloud-yaml-platform-type"><code>type</code> and <code>build</code></h2>
<p>The <code>type</code>  and <code>build</code> properties are used to build and run the project. The only supported <code>type</code> currently is PHP.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p>Supported versions:</p>

<pre><code>type: php:5.5
type: php:5.6
type: php:7.0
</code></pre>

<p>The <code>build</code> determines what happens by default when building the project. The only value currently supported is <code>composer</code>.</p>

<p>Example:</p>

<pre><code>type: php:5.6
build:
    flavor: composer
</code></pre>
</div></div>

<h2 id="cloud-yaml-platform-access"><code>access</code></h2>
<p><code>access</code> defines the user roles who can log in using SSH to the
environments to which they have access.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p>Possible values are:</p>

<pre><code>ssh: admin
ssh: contributor
ssh: viewer
</code></pre>
</div></div>

<h2 id="cloud-yaml-platform-rel"><code>relationships</code></h2>
<p><code>relationships</code> defines how services are mapped in your
application.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p>The left-hand side is the name of the relationship as it will be exposed
to the application in the <code>MAGENTO_CLOUD_RELATIONSHIPS</code> environment
variable. The right-hand side is in the form
<code>&lt;service name&gt;:&lt;endpoint name&gt;</code>, where <code>&lt;service name&gt;</code> comes from 
 <code>.magento/services.yaml</code> and  <code>&lt;endpoint name&gt;</code> should be the same as the
 value of <code>type</code>  declared in that same file.</p>

<p>Example of valid options are:</p>

<pre><code>database: "mysql:mysql"
database2: "mysql2:mysql"
cache: "arediscache:redis"
search: "searchengine:solr"
</code></pre>

<p>See also <a href="/guides/v2.0/cloud/project/project-conf-files_services.html"><code>services.yaml</code> documentation</a> for a full list of currently supported service types and endpoints.</p>
</div></div>

<h2 id="cloud-yaml-platform-web"><code>web</code></h2>
<p><code>web</code> defines how your application is exposed to the web (in HTTP). Here we tell the web application how to serve content, from the front-controller script to a non-static request to an <code>index.php</code> file on the root. We support any directory structure so the static file can be in a sub directory, and the <code>index.php</code> file can be further down.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p><code>web</code> supports the following:</p>

<ul>
  <li><code>document_root</code>: The path relative to the root of the application
that is exposed on the web. Typical values include <code>/public</code> and <code>/web</code>.</li>
  <li><code>passthru</code>: The URL used in the event a static file or PHP file could not be found. This would typically be your applications front controller, often <code>/index.php</code> or <code>/app.php</code>.</li>
  <li>
    <p><code>index_files</code>: To use a static file (for example, <code>index.html</code>) to serve
your application. This key expects a collection. </p>

    <p>For this to
work, the static file(s) should be included in your whitelist. For example,
to use a file named <code>index.html</code> as an index file, your whitelist should
include an element that matches the filename, like <code>- \.html$</code>.</p>
  </li>
  <li><code>blacklist</code>: A list of files that should never be executed. Has no effect on static files.</li>
  <li><code>whitelist</code>: A list of static files (as regular expressions) that can be served. Dynamic files (for example, PHP files) are treated as static files and have their source code served, but they are not executed.</li>
  <li><code>expires</code>: The number of seconds whitelisted (that is, static) content
should be cached by the browser. This enables the cache-control and
Expires headers for static content. The <code>expires</code> directive and
resulting headers are left out entirely if this isn’t set.</li>
</ul>

<p>Contrary to standard <code>.htaccess</code> approaches, which accept a
<em>blacklist</em> and allow everything to be accessed except a specific
list, we accept a <em>whitelist</em>, which means that anything not matched
will trigger a 404 error and will be passed through to your <code>passthru</code>
URL.</p>

<p>To extend the whitelist, you should copy the following
whitelist and and keep only the extensions you need:</p>

<pre><code># The configuration of app when it is exposed to the web.
web:
    # The public directory of the app, relative to its root.
    document_root: "/web"
    # The front-controller script to send non-static requests to.
    passthru: "/app.php"
    whitelist:
      # CSS and Javascript.
      - \.css$
      - \.js$
      - \.hbs$

      # image/* types.
      - \.gif$
      - \.jpe?g$
      - \.png$
      - \.tiff?$
      - \.wbmp$
      - \.ico$
      - \.jng$
      - \.bmp$
      - \.svgz?$

      # audio/* types.
      - \.midi?$
      - \.mpe?ga$
      - \.mp2$
      - \.mp3$
      - \.m4a$
	  - \.ra$
      - \.weba$

      # video/* types.
      - \.3gpp?$
      - \.mp4$
      - \.mpe?g$
      - \.mpe$
      - \.ogv$
	  - \.mov$
      - \.webm$
      - \.flv$
      - \.mng$
      - \.asx$
      - \.asf$
      - \.wmv$
      - \.avi$

      # application/ogg.
      - \.ogx$

  	# application/x-shockwave-flash.
      - \.swf$

	# application/java-archive.
      - \.jar$

      # fonts types.
      - \.ttf$
      - \.eot$
      - \.woff$
      - \.otf$

  	# robots.txt.
      - /robots\.txt$
</code></pre>
</div></div>

<h2 id="cloud-yaml-platform-disk"><code>disk</code></h2>
<p><code>disk</code> defines the size of the persistent disk size of the
application in MB.</p>

<div class="bs-callout bs-callout-info" id="info">
  <p>The minimal recommended disk size is 256MB. If you see the error <code>UserError: Error building the project: Disk size may not be smaller than 128MB</code>, increase the size to 256MB.</p>
</div>

<h2 id="cloud-yaml-platform-mounts"><code>mounts</code></h2>
<p><code>mounts</code> is an object whose keys are paths relative to the root of
the application. It’s in the form <code>volume_id[/subpath]</code>.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p>The format is:</p>

<pre><code>"/public/sites/default/files": "shared:files/files"
</code></pre>

<div class="bs-callout bs-callout-info" id="info">
  <p><code>shared</code> means that the volume is shared between your applications inside an environment. The <code>disk</code> key defines the size available for that <code>shared</code> volume.</p>
</div>
</div></div>

<h2 id="cloud-yaml-platform-dep"><code>dependencies</code></h2>
<p><code>dependencies</code> enables you to specify dependencies that your
application might need during the build process.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p>Magento Enterprise Cloud Edition supports dependencies on the following
languages:</p>

<ul>
  <li>PHP</li>
  <li>Ruby</li>
  <li>NodeJS</li>
</ul>

<p>Those dependencies are independent of the eventual dependencies of your
application, and are available in the <code>PATH</code>, during the build process
and in the runtime environment of your application.</p>

<p>You can specify those dependencies as follows:</p>

<pre><code>ruby:
   sass: "~3.4"
nodejs:
   grunt-cli: "~0.3"
</code></pre>
</div></div>

<h2 id="cloud-yaml-platform-hooks"><code>hooks</code></h2>
<p>The <code>hooks</code> (also referred to as <code>deployment hooks</code>) enable you to define shell
commands to run during the deployment process.</p>

<p>They can be executed at various points in the lifecycle of the
application.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p>Possible hooks are:</p>

<ul>
  <li><code>build</code>: We run build hooks before your application has been
packaged. No other services are accessible at this time since the
application has not been deployed yet.</li>
  <li><code>deploy</code>: We run deploy hooks after your application has been
deployed and started. You can access other services at this point.</li>
</ul>

<p>Note that the home directory is <code>/app</code> while your application is
mounted in <code>/app/public</code> (by default, you can define this yourself in your
<code>.magento.app.yaml</code> file) so you might want to change to the <code>/app/public</code> directory before
running those.</p>

<p>The hooks fail if the final command in them fails. To
cause them to fail on the first failed command, add <code>set -e</code> to the beginning
of the hook.</p>

<p>After a Git push, you can see the results of the <code>deploy</code> hook in the
<code>/var/log/deploy.log</code> file when logging to the environment using SSH. It
contains the log of the execution of the deployment hook. For example:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml">[2016-04-05 17:54:38.585827] Launching hook &#39;php ./vendor/magento/magento-cloud-configuration/magento-deploy.php
&#39;.

[2016-04-05 17:54:38] Start deploy.
[2016-04-05 17:54:38] Preparing environment specific data.
[2016-04-05 17:54:38] Initializing routes.
[2016-04-05 17:54:38] Routes: array (
  &#39;unsecure&#39; =&gt;
  array (
    &#39;&#39; =&gt; &#39;http://test-n5on2ejx6iozi.us.magentosite.cloud/&#39;,
  ),
  &#39;secure&#39; =&gt;
  array (
    &#39;&#39; =&gt; &#39;https://test-n5on2ejx6iozi.us.magentosite.cloud/&#39;,
  ),
)
[2016-04-05 17:54:38] Copying read/write directories back.
[2016-04-05 17:54:38] Copied directory: var
[2016-04-05 17:54:38] Copied directory: app/etc
[2016-04-05 17:54:38] Copied directory: pub
[2016-04-05 17:54:38] File env.php exists. Updating configuration.
[2016-04-05 17:54:38] Updating env.php database configuration.
[2016-04-05 17:54:38] Updating admin credentials.
[2016-04-05 17:54:38] Updating SOLR configuration.
[2016-04-05 17:54:38] Updating secure and unsecure URLs.
[2016-04-05 17:54:38] Running setup upgrade.
[2016-04-05 17:54:51] Clearing cache.
[2016-04-05 17:54:51] Clearing generated code.
[2016-04-05 17:54:51] Clearing application cache.
[2016-04-05 17:54:52] Set Magento application to &#39;production&#39; mode
[2016-04-05 17:54:52] Removing existing static content.
[2016-04-05 17:54:52] Removing existing compilation files.
[2016-04-05 17:54:52] Changing application mode.

[2016-04-05 17:59:25.713148] Launching hook &#39;php ./vendor/magento/magento-cloud-configuration/magento-deploy.php
&#39;.

[2016-04-05 17:59:25] Start deploy.
[2016-04-05 17:59:25] Preparing environment specific data.
[2016-04-05 17:59:25] Initializing routes.
[2016-04-05 17:59:25] Routes: array (
  &#39;unsecure&#39; =&gt;
  array (
    &#39;&#39; =&gt; &#39;http://test-n5on2ejx6iozi.us.magentosite.cloud/&#39;,
  ),
  &#39;secure&#39; =&gt;
  array (
    &#39;&#39; =&gt; &#39;https://test-n5on2ejx6iozi.us.magentosite.cloud/&#39;,
  ),
)
[2016-04-05 17:59:25] Copying read/write directories back.
[2016-04-05 17:59:25] Copied directory: var
[2016-04-05 17:59:25] Copied directory: app/etc
[2016-04-05 17:59:25] Copied directory: pub
[2016-04-05 17:59:25] File env.php exists. Updating configuration.
[2016-04-05 17:59:25] Updating env.php database configuration.
[2016-04-05 17:59:25] Updating admin credentials.
[2016-04-05 17:59:25] Updating SOLR configuration.
[2016-04-05 17:59:25] Updating secure and unsecure URLs.
[2016-04-05 17:59:25] Running setup upgrade.
[2016-04-05 17:59:35] Clearing cache.
[2016-04-05 17:59:35] Clearing generated code.
[2016-04-05 17:59:35] Clearing application cache.
[2016-04-05 17:59:36] Set Magento application to &#39;production&#39; mode
[2016-04-05 17:59:36] Removing existing static content.
[2016-04-05 17:59:36] Removing existing compilation files.
[2016-04-05 17:59:36] Changing application mode.
[2016-04-05 18:05:33] Disabling Google Analytics</code></pre></div>

<h4 id="example-compile-sass-files-using-grunt">[Example] Compile SASS files using grunt</h4>
<p>For example, to compile SASS files using grunt:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml">dependencies:
  ruby:
    sass: &quot;3.4.7&quot;
  nodejs:
    grunt-cli: &quot;~0.1.13&quot;

hooks:
  build: |
    cd public/profiles/project_name/themes/custom/theme_name
    npm install
    grunt</code></pre></div>

<h4 id="example-deployment-hook">[Example] Deployment hook</h4>
<p>Following is a sample deployment hook:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml">hooks:
    # We run build hooks before your application has been packaged.
    build: |
        php ./vendor/magento/magento-cloud-configuration/magento-build.php
    # We run deploy hook after your application has been deployed and started.
    deploy: |
        php ./vendor/magento/magento-cloud/magento-cloud-configuration/magento-deploy.php</code></pre></div>
</div></div>

<h2 id="cloud-yaml-platform-cron"><code>crons</code></h2>
<p><code>crons</code> describes processes that are triggered on a
schedule.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p><code>crons</code> supports the following:</p>

<ul>
  <li><code>spec</code>: The cron specification. Regardless of the setting, cron runs every 5 minutes.</li>
  <li><code>cmd</code>: The command to execute.</li>
</ul>

<p>A sample Magento cron job follows:</p>

<pre><code>crons:
cronrun:
    spec: "*/1 * * * *"
    cmd: "php bin/magento cron:run"
</code></pre>
</div></div>

<h2 id="cloud-yaml-platform-php">Configure PHP options</h2>
<p>You can choose which version of PHP you want to run in your <code>.magento.app.yaml</code> file:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">myphpapp</span>
<span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">php:5.6</span></code></pre></div>

<p>We support PHP versions 5.5, 5.6, and 7.0.</p>

<div class="collapsible"><h4 class="collapsible-title">Click to show/hide content </h4><div class="collapsible-content"><p>See one of the following sections for more information:</p>

<ul>
  <li><a href="#cloud-yaml-platform-php-ext">PHP extensions</a></li>
  <li><a href="#cloud-yaml-platform-php-set">Customize <code>php.ini</code> settings</a></li>
</ul>

<h3 id="cloud-yaml-platform-php-ext">PHP extensions</h3>
<p>You can define the PHP extensions you want to enable or disable:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># .magento.app.yaml</span>
<span class="l-Scalar-Plain">runtime</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">extensions</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">redis</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">ssh2</span>
    <span class="l-Scalar-Plain">disabled_extensions</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">sqlite3</span></code></pre></div>

<p>To view the current list of PHP extensions, create an <a href="/guides/v2.0/cloud/env/environments-start.html#env-start-tunn">SSH tunnel</a> to your environment and enter the following command:</p>

<pre><code>ls /etc/php5/mods-available
</code></pre>

<p>Magento requires the following PHP extensions that are enabled by default: </p>

<ul>
  <li><a href="http://php.net/manual/en/book.curl.php" target="_blank">curl</a></li>
  <li><a href="http://php.net/manual/en/book.image.php" target="_blank">gd</a>, <a href="http://php.net/manual/en/book.imagick.php" target="_blank">ImageMagick 6.3.7</a> (or later) or both</li>
  <li><a href="http://php.net/manual/en/book.intl.php" target="_blank">intl</a></li>
  <li>
    <p>PHP 7 only: </p>

    <ul>
      <li><a href="http://php.net/manual/en/book.json.php" target="_blank">json</a></li>
      <li><a href="http://php.net/manual/en/book.iconv.php" target="_blank">iconv</a></li>
    </ul>
  </li>
  <li><a href="http://php.net/manual/en/book.mcrypt.php" target="_blank">mcrypt</a></li>
  <li><a href="http://php.net/manual/en/ref.pdo-mysql.php" target="_blank">PDO/MySQL</a></li>
  <li><a href="http://php.net/manual/en/book.bc.php" target="_blank">bc-math</a> </li>
  <li><a href="http://php.net/manual/en/book.mbstring.php" target="_blank">mbstring</a></li>
  <li><a href="http://php.net/manual/en/book.mhash.php" target="_blank">mhash</a></li>
  <li><a href="http://php.net/manual/en/book.openssl.php" target="_blank">openssl</a></li>
  <li><a href="http://php.net/manual/en/book.simplexml.php" target="_blank">SimpleXML</a></li>
  <li><a href="http://php.net/manual/en/book.soap.php" target="_blank">soap</a></li>
  <li><a href="http://php.net/manual/en/book.xml.php" target="_blank">xml</a></li>
  <li><a href="http://php.net/manual/en/book.zip.php" target="_blank">zip</a></li>
</ul>

<p>You must install the following extensions:</p>

<ul>
  <li><a href="http://php.net/manual/en/book.xsl.php" target="_blank">xsl</a></li>
  <li><a href="https://pecl.php.net/package/redis" target="_blank">redis</a></li>
</ul>

<p>In addition, we strongly recommend you enable <code>opcache</code>. </p>

<p>Other PHP extensions you can optionally install:</p>

<ul>
  <li><a href="http://php.net/manual/en/book.apcu.php" target="_blank">apcu</a></li>
  <li><a href="https://blackfire.io/docs/up-and-running/installation" target="_blank">blackfire</a></li>
  <li><a href="http://php.net/manual/en/book.enchant.php" target="_blank">enchant</a></li>
  <li><a href="http://php.net/manual/en/book.gearman.php" target="_blank">gearman</a></li>
  <li><a href="http://php.net/manual/en/book.geoip.php" target="_blank">geoip</a></li>
  <li><a href="http://php.net/manual/en/book.imap.php" target="_blank">imap</a></li>
  <li><a href="https://pecl.php.net/package/pecl_http" target="_blank">pecl-http</a></li>
  <li><a href="http://pinba.org" target="_blank">pinba</a></li>
  <li><a href="https://pecl.php.net/package/propro" target="_blank">propro</a></li>
  <li><a href="http://php.net/manual/en/book.pspell.php" target="_blank">pspell</a></li>
  <li><a href="https://pecl.php.net/package/raphf" target="_blank">raphf</a></li>
  <li><a href="http://php.net/manual/en/book.readline.php" target="_blank">readline</a></li>
  <li><a href="http://php.net/manual/en/book.recode.php" target="_blank">recode</a></li>
  <li><a href="http://php.net/manual/en/book.snmp.php" target="_blank">snmp</a></li>
  <li><a href="http://php.net/manual/en/book.sqlite3.php" target="_blank">sqlite3</a></li>
  <li><a href="http://php.net/manual/en/book.ssh2.php" target="_blank">ssh2</a></li>
  <li><a href="http://php.net/manual/en/book.tidy.php" target="_blank">tidy</a></li>
  <li><a href="https://xcache.lighttpd.net" target="_blank">xcache</a></li>
  <li><a href="https://xdebug.org" target="_blank">xdebug</a></li>
  <li><a href="http://php.net/manual/en/book.xhprof.php" target="_blank">xhprof</a></li>
  <li><a href="http://php.net/manual/en/book.xmlrpc.php" target="_blank">xmlrpc</a></li>
</ul>

<h3 id="cloud-yaml-platform-php-set">Customize <code>php.ini</code> settings</h3>
<p>You can also create and push a <code>php.ini</code> file that is appended to
the configuration maintained by Magento Enterprise Cloud Edition.</p>

<p>In your repository, the <code>php.ini</code> file should be added to the root of
the application (normally the repository root).</p>

<div class="bs-callout bs-callout-warning">
    <p>We don't limit what PHP settings you can configure. Configuring PHP settings improperly can cause issues. We recommend only advanced administrators set these options.</p>
</div>

<p>For example, if you need to increase the PHP memory limit:</p>

<pre><code>memory_limit = 768M
</code></pre>

<p>For a list of recommended PHP configuration settings, see <a href="/guides/v2.0/install-gde/prereq/php-centos.html#instgde-prereq-timezone">Set PHP configuration options</a>.</p>

<p>After pushing your file, you can check that the custom PHP configuration
has been added to your environment <a href="/guides/v2.0/cloud/env/environments-start.html#env-start-tunn">creating an SSH tunnel</a> and entering:</p>

<pre><code>cat /etc/php5/fpm/php.ini
</code></pre>
</div></div>

<h4 id="related-topics">Related topics</h4>
<ul>
  <li><a href="/guides/v2.0/cloud/project/project-start.html">Get started with a project</a></li>
  <li><a href="/guides/v2.0/cloud/project/project-conf-files_routes.html"><code>routes.yaml</code></a></li>
  <li><a href="/guides/v2.0/cloud/project/project-conf-files_services.html"><code>services.yaml</code></a></li>
</ul>


		</div>
	</section>
<!-- /main content -->


</div> <!-- container -->


		</div>
		</div>
	</div>


</div>
<!-- -->
<!--Global footer-->
<div id="footer-wrap">
    <div class="footer">
        <div id="magento-com">
            <div class="container">
                <div id="f-col-1">
                    <a href="http://www.magento.com/">
                        <img src="/i/magento_logo_footer.svg" alt="Magento Commerce" style="width: 190px;" />
                    </a>
                    <ul class="nav">
                        <li><a href="http://magento.com/company/about-us" title="Company">About Us</a></li>
                        <li><a href="http://magento.com/company/careers" title="Careers">Careers</a></li>
                        <li><a href="http://magento.com/company/press-room" title="Press Room">Press Room</a></li>
                        <li><a href="http://magento.com/company/leadership" title="Leadership">Leadership</a></li>
                    </ul>
                </div>
                <div id="f-col-2">
                    <div id="f-col-2-1">
                        <div class="contact-us">
                            <h4>Get in touch</h4>
                            <p>We'd like to hear from you! Call us, <br />send us an email or talk to sales.</p>
                            <a href="http://magento.com/company/contact-us" class="btn large copper">Contact Us</a>
                        </div>
                    </div>
                    <div id="f-col-2-2">
                        <div id="social-network">
                            <h4>Stay Connected</h4>
                            <ul>
                                <li><a class="btn-facebook" target="_blank" href="http://www.facebook.com/magento">Magento Facebook</a>
                                </li>
                                <li><a class="btn-twitter" target="_blank" href="https://twitter.com/magento">Magento Twitter</a></li>
                                <li><a class="btn-lnkdn" target="_blank" href="http://www.linkedin.com/groups?home=&amp;gid=146360&amp;trk=anet_ug_hm">Magento Linkedin</a></li>
                                <li><a class="btn-gplus" target="_blank" href="https://plus.google.com/+magento/posts">Magento Google+</a></li>
                                <li><a class="btn-youtube" target="_blank" href="http://www.youtube.com/user/magentocommerce/featured">Magento
                                    Youtube</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="f-col-3">
                    <div id="newsletter">
                        <h4>GET THE LATEST NEWS</h4>
                        <p>See Magento in the news, find press<br/> releases and resources for media.</p>
                        <div class="hold-form">
                            <div id="nws-notsubscribed">
                                <div id="sb-email" class="sb-email">
                                    <form method="post" enctype="application/x-www-form-urlencoded"
                                          action="//info2.magento.com/index.php/leadCapture/save" id="mktForm_1182" class="mktform"
                                          name="mktForm_1182" onsubmit="return validateForm();">
                                        <input class="fValidate['email'] input-topbg sb-email-input" name="Email" id="Email"
                                               placeholder="email address">
                                        <input type="hidden" name="formid" value="1182" />
                                        <button type="submit" class="sb-icon-submit btn outline">
                                            Sign Up
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="email-invalid hide">
                            <p>Please submit a valid email.</p>
                        </div>
                        <div class="email-ty hide">
                            <p>Thank you for submitting your email.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="copyright">
        <div class="container">
            <div class="copyright-date">&copy; 2016 Magento, Inc. All rights reserved.</div>
            <div class="copyright-links">
                <ul class="nav">
                    <li><a title="Privacy Policy" href="http://magento.com/legal/terms/privacy">Privacy Policy</a></li>
                    <li><a title="Terms of Service" href="http://magento.com/legal/terms">Terms of Service</a></li>
                    <li><a title="License/Trademark FAQ" href="http://magento.com/legal/licensing">License/Trademark FAQ</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="/common/js/jsCookie.js"></script>
<script src="/common/js/devdocs.js"></script>
<script src="/common/js/jquery-ui.min.js"></script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script src="/js/app.js"></script>


<!--Google Custom Search-->
<script>
  (function() {
    var cx = '018116925022773002786:klu67apuihk';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>


<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>

