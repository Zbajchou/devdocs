<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Technical Bulletin</title>
	<meta name="description" content="Magento 2 Developer Guide.
">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print"/>
	<link rel="canonical" href="//guides/v2.0/release-notes/tech_bull_21-upgrade.html">

	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

</head>
<body>

<!--Search Results Overlay -->
<div class="searchResultsBack"></div>
<div id="searchResultsBox">
	<div class="searchResultsBoxClose">Close [x]<!-- <img src="/common/images/close.png" alt="Close"> --></div>
	<gcse:search></gcse:search>
	<!-- <gcse:searchresults-only></gcse:searchresults-only> -->
</div>
<!--End Search Results Overlay -->

<header class="site-header">

	<nav role="navigation">

		<div class="menu-btn">
			<a class="menu-trigger menu-icon" href="#"></a>
		</div>

		<div id="global-nav">
			<div class="main-site-name">
				<a class="logo pull-left" href="/"> </a>
				<div class="sub-site-name">
					<a href="/">Developer Documentation (2.0)</a>
				</div>
			</div>
			
<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" data-toggle="dropdown">
		Version 2.0
	</button>


	<ul class="dropdown-menu dropdown-menu-right">
	
		<li><a class="dropdown-item" href="/guides/v2.0/">Version 2.0</a></li>
	
		<li><a class="dropdown-item" href="/">Version 2.1</a></li>
	
  </ul>

</div>


		</div><!-- #global-nav -->
	</nav>

	<div class="search-btn">
		<a class="search-trigger search-icon" href="#"></a>
	</div>

</header>

<!--Sub Navigation-->
<div id="subnav-wrap" class="nav-main">
   <div id="subnav">
      <ul class="menu nav">
         <li class="first">
            <a href="#">Get Started</a>
            <ul class="menu nav">
               <li class="leaf"><a href="/guides/v2.0/architecture/bk-architecture.html">Magento Architecture</a></li>
               <li class="first leaf"><a href="/guides/v2.0/release-notes/bk-release-notes.html">Release Information</a></li>
               
            </ul>
         </li>
         <li class="first">
            <a href="#">System Administrator</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/install-gde/bk-install-guide.html">Installation Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/config-guide/bk-config-guide.html">Configuration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/migration/bk-migration-guide.html">Migration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/cloud/bk-cloud.html">Magento Enterprise Cloud Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Developers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a>
               <li class="first leaf"><a href="/guides/v2.0/ui-components/ui-component.html">UI Components</a>
   			   <li class="first leaf"><a href="/guides/v2.0/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a>
               <div class="divider"></div></li>
               <li class="first leaf"><a href="/guides/v2.0/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
<li class="first leaf"><a href="/guides/v2.0/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices Guide</a></li>
               <li class="leaf"><a href="/guides/v2.0/pattern-library/bk-pattern.html">Magento Admin Pattern Library</a></li>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.0/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
               <li class="leaf"><a href="/guides/v2.0/rest/bk-rest.html">REST Reference</a></li>
               <li class="leaf"><a href="/guides/v2.0/soap/bk-soap.html">SOAP Reference</a>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.0/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Designers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
               <li class="leaf"><a href="/guides/v2.0/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Contributor</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.0/contributor-guide/contributing.html">Contributor Guide</a></li>
            </ul>
         </li>
          <li class="first">
              <a href="/guides/v2.0/test/testing.html">Testing</a>
              <ul class="menu nav">
                  <li class="leaf"><a href="/guides/v2.0/mtf/mtf_introduction.html">Functional Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/test/integration/integration_test_execution.html">Integration Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/extension-dev-guide/test/test_js-unit.html">JavaScript Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.0/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
              </ul>
          </li>
         <li class="first">
            <a href="/guides/v2.0/howdoi/bk-how-do-i.html">How Do I...?</a>
         </li>
      </ul>

      <div class ="search">
         <div class="search-icon"></div>
         <form id="searchbox" name="gs" method="GET" action="#searchResultsBox">
            <input type="hidden" name="cx" value="018116925022773002786:klu67apuihk" />
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="text" name="q" id="searchtext" value="" placeholder="Search">
         </form>
      </div><!-- END searchbox-->

      <a href="#" class="nav-close">&times;</a>

   </div> <!--End subnav -->
</div><!--End subnav-wrap -->
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- /.main-container -->
	<div id="gl-container" class="main-container">
		<a id="main-content"></a>
		<div class="pane-content">
			<div class="node node-panel">


<!-- page-header -->
<section class="page-intro">
	<div class="container">
		<h1 class="page-heading">Technical Bulletin</h1>
		
			<a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.0/release-notes/tech_bull_21-upgrade.md" target="_blank">Edit this page on GitHub</a>
		
		
	</div>
</section>


<div class="container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">


<h4>Release Information</h4>






		<ul role="navigation">

		

		

				

			

				

			

				

			

				

					
					

					

						

						

							

								<li class="q "><a href="/guides/v2.0/release-notes/bk-release-notes.html">List of Release Notes</a></li>

							

						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.0/release-notes/changes_2.0.html">Backward incompatible changes</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/changes/ce_changes.html">Magento CE</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/changes/ee_changes.html">Magento EE</a></li>

									

								




						

					

						

						

							


								


								

									

										<li class="levela1"><span class="nav-header">Release Notes</span></li>

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.3CE.html">Magento CE 2.0.3 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.3EE.html">Magento EE 2.0.3 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.4CE.html">Magento CE 2.0.4 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.4EE.html">Magento EE 2.0.4 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.5CE.html">Magento CE 2.0.5 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.5EE.html">Magento EE 2.0.5 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.6CE.html">Magento CE 2.0.6 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.6EE.html">Magento EE 2.0.6 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.7CE.html">Magento CE 2.0.7 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.0.7EE.html">Magento EE 2.0.7 Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.1_RC1CE.html">Magento CE 2.1 Release Candidate 1 (RC1) Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.1_RC1EE.html">Magento EE 2.1 Release Candidate 1 (RC1) Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.1_RC2CE.html">Magento CE 2.1 Release Candidate 2 (RC2) Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.1_RC2EE.html">Magento EE 2.1 Release Candidate 2 (RC2) Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.1_RC3CE.html">Magento CE 2.1 Release Candidate 3 (RC3) Release Notes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/ReleaseNotes2.1_RC3EE.html">Magento EE 2.1 Release Candidate 3 (RC3) Release Notes</a></li>

									

								




						

					

						

						

							


								


								

									

										<li class="levela1"><span class="nav-header">Technical Bulletin</span></li>

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/tech_bull_tls-repo.html">Transport Layer Security (TLS) 1.1+ requirement for repo.magento.com (June 30, 2016)</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/tech_bull_207-upgrade.html">Required patch for PHP 5.5.x and Setup Application environments (June 6, 2016)</a></li>

									

								

									

									<li class="level-2  active "><a href="/guides/v2.0/release-notes/tech_bull_21-upgrade.html">Upgrade to Magento version 2.1 (June 22, 2016)</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/tech_bull_201-upgrade.html">Magento upgrade issues (Jan. 28, 2016)</a></li>

									

								




						

					

						

						

							


								


								

									

										<li class="levela1"><span class="nav-header">Third Party Licenses</span></li>

									


								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/thirdparty_ce.html">Magento CE third-party licenses</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.0/release-notes/thirdparty_ee.html">Magento EE third-party licenses</a></li>

									

								




						

					


				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

		</ul>

	</div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<p align="right"><i>Updated: 29 June 2016 (PDT)</i></p>
		<h2 id="upgrade-to-magento-version-21">Upgrade to Magento version 2.1</h2>
<p>These instructions apply to anyone upgrading to Magento Community Edition (CE) or Magento Enterprise Edition (EE) version 2.1 (including a Release Candidate). </p>

<p>See one of the following sections for more information:</p>

<ul>
  <li><a href="#tb-upgr-nosamp">Upgrade to Magento CE or EE version 2.1 <em>without</em> sample data</a></li>
  <li><a href="#tb-upgr-samp">Upgrade to Magento CE or EE version 2.1 with sample data</a></li>
  <li><a href="#tb-upgr-samp-wiz">Enterprise Edition only: Web Setup Wizard upgrade to Magento EE version 2.1 with sample data</a></li>
</ul>

<h3 id="tb-upgr-nosamp">Upgrade to Magento CE or EE version 2.1 <em>without</em> sample data</h3>
<p>Upgrades to version 2.1 without sample data can fail because of an issue with the Magento <code>composer-installer</code> component. It doesn’t correctly detect code changes and therefore doesn’t update the cache and compiled code directories properly. As a result, fatal errors display during the upgrade.</p>

<p>To address the issue, you must apply a patch.</p>

<h4 id="get-the-patch">Get the patch</h4>
<p>Use the following instructions to get the patch named <code>MDVA-532.*</code>, then transfer it to your Magento server.</p>

<div class="collapsible"><h4 class="collapsible-title">To get the patch: </h4><div class="collapsible-content"><div>

  <table>
		
<tbody>
	<tr> 
		<th>Magento edition</th>
		<th>Patch location</th>
	</tr>
	<tr> 
	<td>Magento CE</td>
	<td><p><a href="http://www.magento.com/download" target="_blank">www.magento.com/download</a></p>
		<p>Follow the instructions on your screen to download the desired patch.</p></td>
	</tr>
	<tr> 
		<td>Magento EE merchant portal</td>
		<td>Use the following steps:
		<ol><li>Go to <a href="http://www.magento.com" target="_blank">www.magento.com</a></li>
		<li>In the top horizontal navigation bar, click <strong>My Account</strong>.</li>
		<li>Log in with your Magento user name and password.</li>
		<li>In the left navigation bar, click <strong>Downloads</strong>.</li>
		<li>Click <strong>Magento Enterprise Edition</strong> <strong>2.X</strong> &gt; <strong>Magento Enterprise Edition 2.x Release</strong> &gt; <strong>Support Patches</strong></li>
		<li>Follow the instructions on your screen to download the desired patch.</li>

	
	<li>Transfer the patch to your development system.</li></ol></td>
	</tr>
	<tr>
		<td>Magento EE partner portal</td>
		<td>Use the following steps:
		<ol><li>Log in to <a href="https://partners.magento.com/English/?rdir=/files.aspx" target="_blank">partners.magento.com</a></li>
		<li>Click <strong>Magento Enterprise Edition</strong> &gt; <strong>Magento Enterprise Edition 2.X</strong> &gt; <strong>Magento Enterprise Edition 2.x Release</strong> &gt; <strong>Support Patches</strong>.</li>
		<li>In the left navigation bar, click <strong>Downloads</strong>.</li>
		<li>Follow the instructions on your screen to download the desired patch.</li>
	<li>Transfer the patch to your development system.</li></ol></td>
		</tr>
</tbody>
</table>
</div>
</div></div>

<h4 id="apply-the-patch">Apply the patch</h4>
<p>As the <a href="/guides/v2.0/install-gde/prereq/file-sys-perms-over.html">Magento file system owner</a>, extract the patch in your Magento installation directory.</p>

<div class="collapsible"><h4 class="collapsible-title">To apply the patch: </h4><div class="collapsible-content"><div>

  <p>To apply a patch:</p>

  <ol>
    <li>Copy the patch file to your Magento installation directory.</li>
    <li>As the Magento file system owner, use one of the following commands to extract it:</li>
  </ol>

  <table>
<tbody>
<tr> 
	<th>Patch file format</th>
	<th>Command to extract</th>
</tr>
<tr><td><code>.zip</code></td>
	<td><code>unzip -o &lt;patch name&gt;.zip</code></td>
</tr>
<tr><td><code>.tar.gz</code></td>
	<td><code>tar -zxf &lt;patch name&gt;.zip</code></td>
</tr>
<tr><td><code>.tar.bz2</code></td>
	<td><code>tar -jxf &lt;patch name&gt;.zip</code></td>
</tr>
</tbody>
</table>

  <div class="bs-callout bs-callout-info" id="info">
  	<p>If you don't have command line access to your Magento server, extract the patch locally and transfer the files to the server using an FTP application.</p>   
</div>

  <p>For example, to change to the <code>magento_user</code> and extract <code>MDVA-532.zip</code> into <code>/var/www/magento2</code>, enter:</p>

  <pre><code>su magento_user &amp;&amp; cd /var/www/magento2 &amp;&amp; unzip -o MDVA-532.zip
</code></pre>
</div>
</div></div>

<h4 id="complete-your-upgrade">Complete your upgrade</h4>
<p>After applying the patch, complete your upgrade as follows:</p>

<ul>
  <li><a href="/guides/v2.0/comp-mgr/cli/cli-upgrade.html">Command-line upgrade</a></li>
  <li><a href="/guides/v2.0/comp-mgr/upgrader/upgrade-start.html">Start System Upgrade</a></li>
</ul>

<h3 id="tb-upgr-samp">Command-line upgrade to Magento CE or EE version 2.1 with sample data</h3>

<div>

  <p>These instructions apply to Magento Community Edition (CE) and Magento Enterprise Edition (EE) users <em>only</em> if all of the following are true:</p>

  <ul>
    <li>You have installed optional sample data</li>
    <li>You’re upgrading to Magento 2.1 (including a Release Candidate) from any earlier version using the command line</li>
  </ul>

  <div class="collapsible"><h4 class="collapsible-title">Click to expand/collapse content </h4><div class="collapsible-content"><p>To upgrade to Magento 2.1 sample data using the command line:</p>

<ol>
  <li>Log in to your Magento server as, or switch to, the <a href="/guides/v2.0/install-gde/prereq/file-system-perms-over.html">Magento file system owner</a>.</li>
  <li>Change to the Magento installation directory.</li>
  <li>
    <p>Back up your current <code>composer.json</code>:</p>

    <pre><code>cp composer.json composer.json.bak
</code></pre>
  </li>
  <li>
    <p>Enter one of the following commands to upgrade the Magento software version to 2.1.0 (GA release):</p>

    <pre><code>composer require &lt;product&gt; &lt;version&gt; --no-update
composer require &lt;sample data module-1&gt;:&lt;version&gt; ... &lt;sample data module-n&gt;:&lt;version&gt; --no-update
</code></pre>

    <ul>
      <li>
        <p>Magento CE:</p>

        <pre><code>composer require magento/product-community-edition 2.1.0 --no-update

composer require magento/module-bundle-sample-data:100.1.0 magento/module-widget-sample-data:100.1.0 magento/module-theme-sample-data:100.1.0 magento/module-catalog-sample-data:100.1.0 magento/module-customer-sample-data:100.1.0 magento/module-cms-sample-data:100.1.0  magento/module-catalog-rule-sample-data:100.1.0 magento/module-sales-rule-sample-data:100.1.0 magento/module-review-sample-data:100.1.0 magento/module-tax-sample-data:100.1.0 magento/module-sales-sample-data:100.1.0 magento/module-grouped-product-sample-data:100.1.0 magento/module-downloadable-sample-data:100.1.0 magento/module-msrp-sample-data:100.1.0 magento/module-configurable-sample-data:100.1.0 magento/module-product-links-sample-data:100.1.0 magento/module-wishlist-sample-data:100.1.0 magento/module-swatches-sample-data:100.1.0 magento/sample-data-media:100.1.0 magento/module-offline-shipping-sample-data:100.1.0 --no-update 
</code></pre>
      </li>
      <li>
        <p>Magento EE:</p>

        <pre><code>composer require magento/product-enterprise-edition 2.1.0 --no-update

composer require magento/module-bundle-sample-data:100.1.0 magento/module-widget-sample-data:100.1.0 magento/module-theme-sample-data:100.1.0 magento/module-catalog-sample-data:100.1.0 magento/module-customer-sample-data:100.1.0 magento/module-cms-sample-data:100.1.0  magento/module-catalog-rule-sample-data:100.1.0 magento/module-sales-rule-sample-data:100.1.0 magento/module-review-sample-data:100.1.0 magento/module-tax-sample-data:100.1.0 magento/module-sales-sample-data:100.1.0 magento/module-grouped-product-sample-data:100.1.0 magento/module-downloadable-sample-data:100.1.0 magento/module-msrp-sample-data:100.1.0 magento/module-configurable-sample-data:100.1.0 magento/module-product-links-sample-data:100.1.0 magento/module-wishlist-sample-data:100.1.0 magento/module-swatches-sample-data:100.1.0 magento/sample-data-media:100.1.0 magento/module-offline-shipping-sample-data:100.1.0 magento/module-gift-card-sample-data:100.1.0 magento/module-customer-balance-sample-data:100.1.0 magento/module-target-rule-sample-data:100.1.0 magento/module-gift-registry-sample-data:100.1.0 magento/module-multiple-wishlist-sample-data:100.1.0 --no-update
</code></pre>
      </li>
    </ul>

    <div class="bs-callout bs-callout-info" id="info">
  		<p>To upgrade to a Release Candidate, append <code>-rc&lt;x&gt;</code> to the version of each module. For example, <code>-rc3</code>.</p>
</div>
  </li>
  <li>
    <p>Update dependencies:</p>

    <pre><code>composer update
</code></pre>
  </li>
  <li>If prompted, enter your <a href="/guides/v2.0/install-gde/prereq/connect-auth.html">authentication keys</a>.</li>
  <li>Wait for dependencies to update.</li>
</ol>

<h3 id="finish-your-upgrade">Finish your upgrade</h3>
<p>After you’ve reset file system permissions:</p>

<ol>
  <li>If you haven’t done so already, log in to your Magento server as, or switch to, the Magento file system owner.</li>
  <li>Change to your Magento installation directory.</li>
  <li>
    <p>Manually clear the <code>var/cache</code>, <code>var/page_cache</code>, and <code>var/generation</code> directories.</p>

    <p>A sample command follows:</p>

    <pre><code>rm -rf var/cache/* var/page_cache/* var/generation/*
</code></pre>
  </li>
  <li>
    <p>Enter the following command from your Magento installation directory:</p>

    <pre><code>php bin/magento setup:upgrade
</code></pre>
  </li>
</ol>

<div>

  <h3 id="rc1-samp-ownership">Apply file system permissions and ownership</h3>
  <p>As part of the sample data upgrade process, you must apply current file system permission and ownership as discussed in the following sections. Failure to do so will cause your upgrade to fail.</p>

  <p>For more information about file system ownership and permissions since the Magento 2.0.6 release, see <a href="/guides/v2.0/install-gde/prereq/file-sys-perms-over.html">Overview of ownership and permissions</a>.</p>

  <h4 id="one-user-ownership-and-permissions">One-user ownership and permissions</h4>
  <p>If you run the Magento application as one user (which is typical of shared hosting environments), change file system permissions and ownership as follows:</p>

  <pre><code>cd &lt;your Magento install dir&gt;
find var vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \;
find var vendor pub/static pub/media app/etc -type d -exec chmod g+w {} \;
chmod u+x bin/magento
</code></pre>

  <p>To optionally enter all commands on one line, enter the following assuming Magento is installed in <code>/var/www/html/magento2</code>:</p>

  <pre><code>cd /var/www/html/magento2 &amp;&amp; find var vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \; &amp;&amp; find var vendor pub/static pub/media app/etc -type d -exec chmod g+w {} \; &amp;&amp; chmod u+x bin/magento
</code></pre>

  <p>After you set file system permissions, manually clear the <code>var/cache</code>, <code>var/page_cache</code>, and <code>var/generation</code> directories.</p>

  <p>A sample command follows:</p>

  <pre><code>rm -rf var/cache/* var/page_cache/* var/generation/*
</code></pre>

  <h4 id="two-user-ownership-and-permissions">Two-user ownership and permissions</h4>
  <p>If you run the Magento application with two users, enter the following commands as a user with <code>root</code> privileges:</p>

  <pre><code>cd &lt;your Magento install dir&gt;
find var vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \;
find var vendor pub/static pub/media app/etc -type d -exec chmod g+ws {} \;
chown -R :&lt;web server group&gt; .
chmod u+x bin/magento
</code></pre>

  <p>To optionally enter all commands on one line, enter the following assuming Magento is installed in <code>/var/www/html/magento2</code> and the web server group name is <code>apache</code>:</p>

  <pre><code>cd /var/www/html/magento2 &amp;&amp; find var vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \; &amp;&amp; find var vendor pub/static pub/media app/etc -type d -exec chmod g+ws {} \; &amp;&amp; chown -R :apache . &amp;&amp; chmod u+x bin/magento
</code></pre>
</div>
</div></div>

  <h3 id="tb-upgr-samp-wiz">Enterprise Edition only: Web Setup Wizard upgrade to Magento EE version 2.1 with sample data</h3>
  <p>Upgrades to Magento EE 2.1 with sample data can fail because of the following issues:</p>

  <ul>
    <li>
      <p>An issue with the Magento <code>composer-installer</code> component. It doesn’t correctly detect code changes and therefore doesn’t update the cache and compiled code directories properly. As a result, fatal errors display during the upgrade.</p>

      <p>We have a patch that resolves this issue.</p>
    </li>
    <li>
      <p>Magento’s <code>composer.lock</code> file specifies a non-existent component type; this issue prevents the upgrade with sample data from completing successfully.</p>

      <p>You can edit <code>composer.lock</code> to fix this issue.</p>
    </li>
  </ul>

  <h4 id="get-the-patch-1">Get the patch</h4>
  <p>Use the following instructions to get the patch named <code>MDVA-532.*</code>, then transfer it to your Magento server.</p>

  <div class="collapsible"><h4 class="collapsible-title">To get the patch: </h4><div class="collapsible-content"><div>

  <p>You can get a Magento Enterprise Edition (EE) patch in any of the following ways:</p>

  <h4 id="from-the-magento-ee-merchant-portal">From the Magento EE merchant portal</h4>
  <p>To get a patch from the EE merchant portal:</p>

  <ol>
    <li>Go to <a href="http://www.magento.com" target="_blank">www.magento.com</a>.</li>
    <li>In the top horizontal navigation bar, click <strong>My Account</strong>.</li>
    <li>Log in with your Magento user name and password.</li>
    <li>In the left navigation bar, click <strong>Downloads</strong>.</li>
    <li>Click <strong>Magento Enterprise Edition</strong> &gt; <strong>2.X</strong> &gt; <strong>Magento Enterprise Edition 2.x Release</strong> &gt; <strong>Support Patches</strong>.</li>
    <li>Transfer the patch to your development system.</li>
  </ol>

  <h4 id="from-the-magento-ee-parter-portal">From the Magento EE parter portal</h4>
  <p>To get a patch from the Magento EE partner portal:</p>

  <ol>
    <li>Log in to <a href="https://partners.magento.com/English/?rdir=/files.aspx" target="_blank">partners.magento.com</a>.</li>
    <li>Click <strong>Magento Enterprise Edition</strong> &gt; <strong>Magento Enterprise Edition 2.X</strong> &gt; <strong>Magento Enterprise Edition 2.x Release</strong> &gt; <strong>Support Patches</strong>.</li>
    <li>In the left navigation bar, click <strong>Downloads</strong>.</li>
    <li>Follow the instructions on your screen to download the desired patch.</li>
    <li>Transfer the patch to your development system.</li>
  </ol>
</div>
</div></div>

  <h4 id="apply-the-patch-1">Apply the patch</h4>
  <p>As the <a href="/guides/v2.0/install-gde/prereq/file-sys-perms-over.html">Magento file system owner</a>, extract the patch in your Magento installation directory.</p>

  <div class="collapsible"><h4 class="collapsible-title">To apply the patch: </h4><div class="collapsible-content"><div>

  <p>To apply a patch:</p>

  <ol>
    <li>Copy the patch file to your Magento installation directory.</li>
    <li>As the Magento file system owner, use one of the following commands to extract it:</li>
  </ol>

  <table>
<tbody>
<tr> 
	<th>Patch file format</th>
	<th>Command to extract</th>
</tr>
<tr><td><code>.zip</code></td>
	<td><code>unzip -o &lt;patch name&gt;.zip</code></td>
</tr>
<tr><td><code>.tar.gz</code></td>
	<td><code>tar -zxf &lt;patch name&gt;.zip</code></td>
</tr>
<tr><td><code>.tar.bz2</code></td>
	<td><code>tar -jxf &lt;patch name&gt;.zip</code></td>
</tr>
</tbody>
</table>

  <div class="bs-callout bs-callout-info" id="info">
  	<p>If you don't have command line access to your Magento server, extract the patch locally and transfer the files to the server using an FTP application.</p>   
</div>

  <p>For example, to change to the <code>magento_user</code> and extract <code>MDVA-532.zip</code> into <code>/var/www/magento2</code>, enter:</p>

  <pre><code>su magento_user &amp;&amp; cd /var/www/magento2 &amp;&amp; unzip MDVA-532.zip
</code></pre>
</div>
</div></div>

  <h4 id="fix-composerlock">Fix <code>composer.lock</code></h4>

  <div class="collapsible"><h4 class="collapsible-title">To fix composer.lock: </h4><div class="collapsible-content"><ol>
  <li>As the Magento file system owner, open <code>&lt;your Magento install dir&gt;/composer.lock</code> in a text editor.</li>
  <li>
    <p>Change the following entry.</p>

    <p>from:</p>

    <pre><code>"type": "magento2-module-customer-balance",
</code></pre>

    <p>to:</p>

    <pre><code>"type": "magento2-module",
</code></pre>
  </li>
  <li>Save your changes to <code>composer.lock</code> and exit the text editor.</li>
</ol>
</div></div>

  <h4 id="manually-clear-directories">Manually clear directories</h4>
  <p>Manually clear the <code>var/cache</code>, <code>var/page_cache</code>, and <code>var/generation</code> directories.</p>

  <p>A sample command follows:</p>

  <pre><code>rm -rf var/cache/* var/page_cache/* var/generation/*
</code></pre>

  <h4 id="start-the-upgrade">Start the upgrade</h4>
  <p>Start your upgrade as discussed in <a href="/guides/v2.0/comp-mgr/upgrader/upgrade-start.html">Start System Upgrade</a>.</p>
</div>


		</div>
	</section>
<!-- /main content -->


</div> <!-- container -->


		</div>
		</div>
	</div>


</div>
<!-- -->
<!--Global footer-->
<div id="footer-wrap">
    <div class="footer">
        <div id="magento-com">
            <div class="container">
                <div id="f-col-1">
                    <a href="http://www.magento.com/">
                        <img src="/i/magento_logo_footer.svg" alt="Magento Commerce" style="width: 190px;" />
                    </a>
                    <ul class="nav">
                        <li><a href="http://magento.com/company/about-us" title="Company">About Us</a></li>
                        <li><a href="http://magento.com/company/careers" title="Careers">Careers</a></li>
                        <li><a href="http://magento.com/company/press-room" title="Press Room">Press Room</a></li>
                        <li><a href="http://magento.com/company/leadership" title="Leadership">Leadership</a></li>
                    </ul>
                </div>
                <div id="f-col-2">
                    <div id="f-col-2-1">
                        <div class="contact-us">
                            <h4>Get in touch</h4>
                            <p>We'd like to hear from you! Call us, <br />send us an email or talk to sales.</p>
                            <a href="http://magento.com/company/contact-us" class="btn large copper">Contact Us</a>
                        </div>
                    </div>
                    <div id="f-col-2-2">
                        <div id="social-network">
                            <h4>Stay Connected</h4>
                            <ul>
                                <li><a class="btn-facebook" target="_blank" href="http://www.facebook.com/magento">Magento Facebook</a>
                                </li>
                                <li><a class="btn-twitter" target="_blank" href="https://twitter.com/magento">Magento Twitter</a></li>
                                <li><a class="btn-lnkdn" target="_blank" href="http://www.linkedin.com/groups?home=&amp;gid=146360&amp;trk=anet_ug_hm">Magento Linkedin</a></li>
                                <li><a class="btn-gplus" target="_blank" href="https://plus.google.com/+magento/posts">Magento Google+</a></li>
                                <li><a class="btn-youtube" target="_blank" href="http://www.youtube.com/user/magentocommerce/featured">Magento
                                    Youtube</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="f-col-3">
                    <div id="newsletter">
                        <h4>GET THE LATEST NEWS</h4>
                        <p>See Magento in the news, find press<br/> releases and resources for media.</p>
                        <div class="hold-form">
                            <div id="nws-notsubscribed">
                                <div id="sb-email" class="sb-email">
                                    <form method="post" enctype="application/x-www-form-urlencoded"
                                          action="//info2.magento.com/index.php/leadCapture/save" id="mktForm_1182" class="mktform"
                                          name="mktForm_1182" onsubmit="return validateForm();">
                                        <input class="fValidate['email'] input-topbg sb-email-input" name="Email" id="Email"
                                               placeholder="email address">
                                        <input type="hidden" name="formid" value="1182" />
                                        <button type="submit" class="sb-icon-submit btn outline">
                                            Sign Up
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="email-invalid hide">
                            <p>Please submit a valid email.</p>
                        </div>
                        <div class="email-ty hide">
                            <p>Thank you for submitting your email.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="copyright">
        <div class="container">
            <div class="copyright-date">&copy; 2016 Magento, Inc. All rights reserved.</div>
            <div class="copyright-links">
                <ul class="nav">
                    <li><a title="Privacy Policy" href="http://magento.com/legal/terms/privacy">Privacy Policy</a></li>
                    <li><a title="Terms of Service" href="http://magento.com/legal/terms">Terms of Service</a></li>
                    <li><a title="License/Trademark FAQ" href="http://magento.com/legal/licensing">License/Trademark FAQ</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="/common/js/jsCookie.js"></script>
<script src="/common/js/devdocs.js"></script>
<script src="/common/js/jquery-ui.min.js"></script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script src="/js/app.js"></script>


<!--Google Custom Search-->
<script>
  (function() {
    var cx = '018116925022773002786:klu67apuihk';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>


<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>

