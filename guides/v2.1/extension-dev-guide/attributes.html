<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>EAV and extension attributes</title>
	<meta name="description" content="Magento 2 Developer Guide.
">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/app.css" />
	<link rel="stylesheet" href="/css/print.css" media="print"/>
	<link rel="canonical" href="//guides/v2.1/extension-dev-guide/attributes.html">

	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

</head>
<body>

<!--Search Results Overlay -->
<div class="searchResultsBack"></div>
<div id="searchResultsBox">
	<div class="searchResultsBoxClose">Close [x]<!-- <img src="/common/images/close.png" alt="Close"> --></div>
	<gcse:search></gcse:search>
	<!-- <gcse:searchresults-only></gcse:searchresults-only> -->
</div>
<!--End Search Results Overlay -->

<header class="site-header">

	<nav role="navigation">

		<div class="menu-btn">
			<a class="menu-trigger menu-icon" href="#"></a>
		</div>

		<div id="global-nav">
			<div class="main-site-name">
				<a class="logo pull-left" href="/"> </a>
				<div class="sub-site-name">
					<a href="/">Developer Documentation (2.1)</a>
				</div>
			</div>
			
<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" data-toggle="dropdown">
		Version 2.1
	</button>


	<ul class="dropdown-menu dropdown-menu-right">
	
		<li><a class="dropdown-item" href="/guides/v2.0/">Version 2.0</a></li>
	
		<li><a class="dropdown-item" href="/">Version 2.1</a></li>
	
  </ul>

</div>


		</div><!-- #global-nav -->
	</nav>

	<div class="search-btn">
		<a class="search-trigger search-icon" href="#"></a>
	</div>

</header>

<!--Sub Navigation-->
<div id="subnav-wrap" class="nav-main">
   <div id="subnav">
      <ul class="menu nav">
         <li class="first">
            <a href="#">Get Started</a>
            <ul class="menu nav">
               <li class="leaf"><a href="/guides/v2.1/architecture/bk-architecture.html">Magento Architecture</a></li>
               <li class="first leaf"><a href="/guides/v2.1/release-notes/bk-release-notes.html">Release Information</a></li>
               
            </ul>
         </li>
         <li class="first">
            <a href="#">System Administrator</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a></li>
               <li class="leaf"><a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li>
               <li class="leaf"><a href="/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a></li>
               <li class="leaf"><a href="/guides/v2.1/cloud/bk-cloud.html">Magento Enterprise Cloud Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Developers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a>
               <li class="first leaf"><a href="/guides/v2.1/ui-components/ui-component.html">UI Components</a>
   			   <li class="first leaf"><a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a>
               <div class="divider"></div></li>
               <li class="first leaf"><a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li>
<li class="first leaf"><a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices Guide</a></li>
               <li class="leaf"><a href="/guides/v2.1/pattern-library/bk-pattern.html">Magento Admin Pattern Library</a></li>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li>
               <li class="leaf"><a href="/guides/v2.1/rest/bk-rest.html">REST Reference</a></li>
               <li class="leaf"><a href="/guides/v2.1/soap/bk-soap.html">SOAP Reference</a>
               <div class="divider"></div></li>
               <li class="leaf"><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Designers</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li>
               <li class="leaf"><a href="/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li>
            </ul>
         </li>
         <li class="first">
            <a href="#">Contributor</a>
            <ul class="menu nav">
               <li class="first leaf"><a href="/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a></li>
            </ul>
         </li>
          <li class="first">
              <a href="/guides/v2.1/test/testing.html">Testing</a>
              <ul class="menu nav">
                  <li class="leaf"><a href="/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.1/extension-dev-guide/test/test_js-unit.html">JavaScript Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a></li>
                  <li class="leaf"><a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li>
              </ul>
          </li>
         <li class="first">
            <a href="/guides/v2.1/howdoi/bk-how-do-i.html">How Do I...?</a>
         </li>
      </ul>

      <div class ="search">
         <div class="search-icon"></div>
         <form id="searchbox" name="gs" method="GET" action="#searchResultsBox">
            <input type="hidden" name="cx" value="018116925022773002786:klu67apuihk" />
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="text" name="q" id="searchtext" value="" placeholder="Search">
         </form>
      </div><!-- END searchbox-->

      <a href="#" class="nav-close">&times;</a>

   </div> <!--End subnav -->
</div><!--End subnav-wrap -->
<div class="nav-main-fader"></div>


<div id="gl-wrapper">

	<!-- /.main-container -->
	<div id="gl-container" class="main-container">
		<a id="main-content"></a>
		<div class="pane-content">
			<div class="node node-panel">


<!-- page-header -->
<section class="page-intro">
	<div class="container">
		<h1 class="page-heading">EAV and extension attributes</h1>
		
			<a class="improve-page" href="https://github.com/magento/devdocs/tree/develop/guides/v2.0/extension-dev-guide/attributes.md" target="_blank">Edit this page on GitHub</a>
		
		
	</div>
</section>


<div class="container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">


<h4>PHP Developer Guide</h4>






		<ul role="navigation">

		

		

				

			

				

					
					

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">Introduction</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/intro/developers_roadmap.html">Developer roadmap</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/intro/intro-composer.html">Introduction to Composer</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/intro/intro-composer-gloss.html">Glossary of common terms</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/prepare/prepare.html">Prepare (development quick start)</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/prepare/dev-modtypes.html">Component types and versioning</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/prepare/prepare_file-str.html">About component file structure</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/prepare/dev-summary.html">Roadmap for developing and packaging components</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/prepare/lifecycle.html">Extension lifecycle</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/build/build.html">Build</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/composer-integration.html">The composer.json file</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/module-file-structure.html">Create your component file structure</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/required-configuration-files.html">Define your configuration files</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/component-registration.html">Register your component</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/XSD-XML-validation.html">URN schema validation</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/create_component.html">Name your component</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/module-load-order.html">Component load order</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/build/enable-module.html">Enable or disable your component</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/package/package.html">Package</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/package/package_module.html">Package a component</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/package/package_mktpl.html">Upload your component to the Magento Marketplace</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/validate/validate.html">Validate</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/validate/test-module.html">Test your component</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/cli-cmds/cli-add.html">Add CLI commands</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/cli-cmds/cli-naming-guidelines.html">Command naming guidelines</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/cli-cmds/cli-howto.html">How to add CLI commands</a></li>

									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/staging.html">Staging (Enterprise Edition only)</a></li>
									
								

									


								

									

										<li class="level3Parent " id="staging_modules"><a href="#">List of modules</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/BundleStaging.html">BundleStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/CatalogImportExportStaging.html">CatalogImportExportStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/CatalogInventoryStaging.html">CatalogInventoryStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/CatalogRuleStaging.html">CatalogRuleStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/CatalogStaging.html">CatalogStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/CatalogUrlRewriteStaging.html">CatalogUrlRewriteStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/CheckoutStaging.html">CheckoutStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/CmsStaging.html">CmsStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/ConfigurableProductStaging.html">ConfigurableProductStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/DownloadableStaging.html">DownloadableStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/GiftCardStaging.html">GiftCardStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/GiftMessageStaging.html">GiftMessageStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/GiftWrappingStaging.html">GiftWrappingStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/GoogleOptimizerStaging.html">GoogleOptimizerStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/GroupedProductStaging.html">GroupedProductStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/LayeredNavigationStaging.html">LayeredNavigationStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/MsrpStaging.html">MsrpStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/PaymentStaging.html">PaymentStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/ProductVideoStaging.html">ProductVideoStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/ReviewStaging.html">ReviewStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/RmaStaging.html">RmaStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/SalesRuleStaging.html">SalesRuleStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/SearchStaging.html">SearchStaging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/Staging.html">Staging</a>


									

								

									


											<li class="level3Child staging_modules " data-menunode="staging_modules"><a href="/guides/v2.1/extension-dev-guide/staging/WeeeStaging.html">WeeeStaging</a>


									

								




						

					

						

						

							


								


								
									<li class="level1 "><a class="nav-header" href="/guides/v2.1/extension-dev-guide/module-development.html">Component development</a></li>
									
								

									


								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/service-contracts/service-contracts.html">Service contracts</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/api-concepts.html">Public interfaces & APIs</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/service-contracts/design-patterns.html">Service contract design patterns</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/depend-inj.html">Dependency injection</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/events-and-observers.html">Events and observers</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/factories.html">Instantiating objects with factories</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/proxies.html">Proxies</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/code-generation.html">Code generation</a></li>

									

								

									

									<li class="level-2  active "><a href="/guides/v2.1/extension-dev-guide/attributes.html">EAV and extension attributes</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/plugins.html">Plugins (Interceptors)</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/routing.html">Routing</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/indexing.html">Indexing</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/service-contracts/service-to-web-service.html">Configure services as web APIs</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/backward-compatibility.html">Backward compatibility</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/extension-dev-guide/message-queues.html">Message Queues (Enterprise Edition Only)</a></li>

									

								

									

									<li class="level-2 "><a href="/guides/v2.1/howdoi/php/php_clear-dirs.html">Clear directories during development</a></li>

									

								




						

					


				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

				

			

		</ul>

	</div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<p align="right"><i>Updated: 22 June 2016 (PDT)</i></p>
		<h2 id="eav-and-extension-attributes">EAV and extension attributes</h2>

<p>Magento provides two types of attributes that integrators can use to extend the functionality provided out-of-the-box:</p>

<ul>
  <li>
    <p>Custom and EAV (Entity-Attribute-Value) attributes. Custom attributes are those added on behalf of a merchant. For example, a merchant might need to add attributes to describe products, such as shape or volume. A merchant can add these attributes on the admin panel, and these attributes can be displayed. See the merchant documentation for information about managing custom attributes.</p>

    <p>Custom attributes are a subset of EAV attributes. Objects that use EAV attributes typically store values in several MySQL tables. The <code>Customer</code> and <code>Catalog</code> modules have the primary models that use EAV attributes. Other modules, such as <code>ConfigurableProduct</code>, <code>GiftMessage</code>, and <code>Tax</code>, use the EAV functionality for <code>Catalog</code>.</p>
  </li>
  <li>
    <p>Extension attributes. Extension attributes are new in Magento 2. They are used to extend functionality and often use more complex data types than custom attributes. These attributes do not appear on the GUI.</p>
  </li>
</ul>

<h2 id="custom">EAV and custom attributes</h2>

<p><code>CustomAttributesDataInterface</code> defines the methods that are called to get and set custom attributes, including <code>getCustomAttributes()</code>.</p>

<p>A module has a set of built-in attributes that are always available. The <code>Catalog</code> module has several attributes that are defined as EAV attributes, but are treated as built-in attributes. These attributes include:</p>

<ul>
  <li>attribute_set_id</li>
  <li>created_at</li>
  <li>group_price</li>
  <li>media_gallery</li>
  <li>name</li>
  <li>price</li>
  <li>sku</li>
  <li>status</li>
  <li>store_id</li>
  <li>tier_price</li>
  <li>type_id</li>
  <li>updated_at</li>
  <li>visibility</li>
  <li>weight</li>
</ul>

<p>In this case, when <code>getCustomAttributes()</code> is called, the system returns only custom attributes that are not in this list.</p>

<p>The <code>Customer</code> module does not treat its EAV attributes in a special manner. As a result, the <code>getCustomAttributes()</code> method returns all EAV attributes.</p>

<h2 id="extension">Extension attributes</h2>

<p>Use <code>ExtensibleDataInterface</code> to implement extension attributes. In your code, you must define <code>getExtensionAttributes()</code> and <code>setExtensionAttributes(*ExtensionInterface param)</code>.</p>

<p><code>public function getExtensionAttributes();</code></p>

<p>Most likely, you’ll want to extend interfaces defined in the <code>Api/Data</code> directory of a Magento module. </p>

<h3 id="declare">Declare extension attributes</h3>

<p>You must create an <code>&lt;Module&gt;/etc/extension_attributes.xml</code> file to define the extension attributes for a module:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;config&gt;</span>
    <span class="nt">&lt;extension_attributes</span> <span class="na">for=</span><span class="s">&quot;Path\To\Interface&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute</span> <span class="na">code=</span><span class="s">&quot;name_of_attribute&quot;</span> <span class="na">type=</span><span class="s">&quot;datatype&quot;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;resources&gt;</span>
              <span class="nt">&lt;resource</span>  <span class="na">ref=</span><span class="s">&quot;permission&quot;</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;/resources&gt;</span>
           <span class="nt">&lt;join</span> <span class="na">reference_table=</span><span class="s">&quot;&quot;</span> <span class="na">reference_field=</span><span class="s">&quot;&quot;</span> <span class="na">join_on_field=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;field&gt;</span>fieldname<span class="nt">&lt;/field&gt;</span>
           <span class="nt">&lt;/join&gt;</span>            
        <span class="nt">&lt;/attribute&gt;</span>
    <span class="nt">&lt;/extension_attributes&gt;</span>
<span class="nt">&lt;/config&gt;</span></code></pre></div>

<p>where:</p>

<table>
<thead>
<th>Keyword</th>
<th>Description</th>
<th>Example</th>
</thead>
<tbody>
<tr>
<td><p>for</p></td>
<td><p>The fully-qualified type name with the namespace that processes the extensions. The value must be a type that implements `ExtensibleDataInterface`. The interface can be in a different module.</p> </td>
<td><code>Magento\Quote\Api\Data\TotalsInterface</code></td>
</tr>
<tr>
<td><p>code</p></td>
<td><p>The name of the attribute. The attribute name should be in snake case (the first letter in each word should be in lowercase, with each word separated by an underscore). </p></td>
<td><code>gift_cards_amount_used</code></td>
</tr>
<tr>
<td><p>type</p></td>
<td><p>The data type. This can be a simple data type, such as string or integer, or complex type, such as an interface.</p></td>
<td><code>float <br />Magento\CatalogInventory\Api\Data\StockItemInterface</code></td>
</tr>
<tr>
<td><p>ref</p></td>
<td><p>Optional. Restricts access to the extension attribute to users with the specified permission.</p></td>
<td><code>Magento_CatalogInventory::cataloginventory</code></td>
</tr>
<tr>
<td><p>reference_table</p></td>
<td>
<p>The table involved in a join operation. See <a href="#search">Searching extension attributes</a> for details.</p>
</td>
<td><code>admin_user</code></td>
</tr>
<tr>
<td><p>reference_field</p></td>
<td><p>Column in the reference_table</p></td>
<td><code>user_id</code></td>
</tr>
<tr>
<td><p>join_on_field</p></td>
<td><p>The column of the table associated with the interface specified in the <code>for</code> keyword that will be used in the join operation.</p></td>
<td><code>store_id</code></td>
</tr>
<tr>
<td><p>field</p></td>
<td><p>One or more fields present in the interface specified in the <code>type</code> keyword.</p>
<p>You can specify the <code>column=""</code> keyword to define the column in the reference_table to use. The field value specifies the property on the <code>interface</code> which should be set.</p></td>
<td><code>&lt;field&gt;firstname&lt;/field&gt;<br />&lt;field&gt;lastname&lt;/field&gt;<br />&lt;field&gt;email&lt;/field&gt;<br /><br />
&lt;field column="customer_group_code"&gt;code&lt;/field&gt;</code></td>
</tr>
</tbody>

</table>

<h3 id="search">Searching extension attributes</h3>

<p>The system uses a join directive to add external attributes to a collection and to make the collection filterable. The <code>join</code> element in the <code>extension_attributes.xml</code> file defines which object fields and the database table/column to use as the source of a search. </p>

<p>In the following example, an attribute named <code>stock_item</code> of type <code>Magento\CatalogInventory\Api\Data\StockItemInterface</code> added to the <code>Magento\Catalog\Api\Data\ProductInterface</code>. </p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;extension_attributes</span> <span class="na">for=</span><span class="s">&quot;Magento\Catalog\Api\Data\ProductInterface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;attribute</span> <span class="na">code=</span><span class="s">&quot;stock_item&quot;</span> <span class="na">type=</span><span class="s">&quot;Magento\CatalogInventory\Api\Data\StockItemInterface&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;join</span> <span class="na">reference_table=</span><span class="s">&quot;cataloginventory_stock_item&quot;</span> <span class="na">reference_field=</span><span class="s">&quot;product_id&quot;</span> <span class="na">join_on_field=</span><span class="s">&quot;entity_id&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field&gt;</span>qty<span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/join&gt;</span>
    <span class="nt">&lt;/attribute&gt;</span>
<span class="nt">&lt;/extension_attributes&gt;</span></code></pre></div>

<p>When <code>getList()</code> is called, it returns a list of <code>ProductInterface</code>s. When it does this, the code populates the <code>stock_item</code> with a joined operation in which the <code>StockItemInterface</code>’s <code>qty</code> property come from the <code>cataloginventory_stock_item</code> table where the <code>Product</code>’s <code>entity_Id</code> is joined with the <code>cataloginventory_stock_item.product_id</code> column. </p>

<h3 id="ext-auth">Extension attribute authentication</h3>

<p>Individual fields that are defined as extension attributes can be restricted, based on existing permissions. This feature allows extension developers to restrict access to data. See <a href="/guides/v2.1/get-started/authentication/gs-authentication.html">Web API authentication overview</a> for general information about authentication in Magento.</p>

<p>The following <a href="https://github.com/magento/magento2/blob/2.0/app/code/Magento/CatalogInventory/etc/extension_attributes.xml">code sample</a> defines <code>stock_item</code> as an extension attribute of the <code>CatalogInventory</code> module. <code>CatalogInventory</code> is treated as a “third-party extension”. Access to the inventory data is restricted because the quantity of in-stock item may be competitive information.</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;config</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">&quot;../../../../../lib/internal/Magento/Framework/Api/etc/extension_attributes.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;extension_attributes</span> <span class="na">for=</span><span class="s">&quot;Magento\Catalog\Api\Data\ProductInterface&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute</span> <span class="na">code=</span><span class="s">&quot;stock_item&quot;</span> <span class="na">type=</span><span class="s">&quot;Magento\CatalogInventory\Api\Data\StockItemInterface&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;resources&gt;</span>
                <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">&quot;Magento_CatalogInventory::cataloginventory&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/resources&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
    <span class="nt">&lt;/extension_attributes&gt;</span>
<span class="nt">&lt;/config&gt;</span></code></pre></div>

<p>In this example, the <code>stock_item</code> attribute is restricted to only the users who have the <code>Magento_CatalogInventory::cataloginventory</code> permission. As a result, an anonymous or unauthenticated user issuing a <code>GET http://&lt;magento_base_url&gt;/rest/V1/products/&lt;sku&gt;</code> request will receive product information similar to the following:</p>

<pre><code>{
  "sku": “tshirt1”,
  “price”: “20.00”,
  “description”: “New JSmith design”,
  “extension_attributes”: {
    “logo size”: “small”
  },
  “custom_attributes”: {
    “artist”: “James Smith”
  }
}
</code></pre>

<p>However, an authenticated user with the permission <code>Magento_CatalogInventory::cataloginventory</code> receives the additional <code>stock_item</code> field:</p>

<pre><code>{
  "sku": “tshirt1”,
  “price”: “20.00”,
  “description”: “New JSmith design”,
  “extension_attributes”: {
    “logo size”: “small”,
    “stock_item” : {
      “status” : “in_stock”
      “quantity”: 70
    }
  },
  “custom_attributes”: {
    “artist”: “James Smith”
  }
}
</code></pre>

<p>This only works for extension attributes (those attributes defined in an <code>extension_attributes.xml</code> file). There are no permission restrictions on the rest of the returned data. For example, there is no way to restrict <code>custom_attributes</code>.</p>

<h3>ExtensionInterfaces</h3>

<p>An <code>ExtensionInterface</code> will be empty if no extension attributes have been added. In the following example, in an unmodified installation, <code>CustomerExtensionInterface</code> will be generated, but will be empty:</p>

<p><code>interface CustomerExtensionInterface extends \Magento\Framework\Api\ExtensionAttributesInterface
{
}</code></p>

<p>However, if an extension similar to the following has been defined, the interface will not be empty.</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;extension_attributes</span> <span class="na">for=</span><span class="s">“Magento\Customer\Api\Data\CustomerInterface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;attribute</span> <span class="na">code=</span><span class="s">“attributeName&quot;</span> <span class="na">type=</span><span class="s">“Magento\Some\Type[]&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/extension_attributes&gt;</span></code></pre></div>

<h2 id="related">Related topics</h2>
<p><a href="/guides/v2.1/get-started/authentication/gs-authentication.html">Web API authentication overview</a></p>



		</div>
	</section>
<!-- /main content -->


</div> <!-- container -->


		</div>
		</div>
	</div>


</div>
<!-- -->
<!--Global footer-->
<div id="footer-wrap">
    <div class="footer">
        <div id="magento-com">
            <div class="container">
                <div id="f-col-1">
                    <a href="http://www.magento.com/">
                        <img src="/i/magento_logo_footer.svg" alt="Magento Commerce" style="width: 190px;" />
                    </a>
                    <ul class="nav">
                        <li><a href="http://magento.com/company/about-us" title="Company">About Us</a></li>
                        <li><a href="http://magento.com/company/careers" title="Careers">Careers</a></li>
                        <li><a href="http://magento.com/company/press-room" title="Press Room">Press Room</a></li>
                        <li><a href="http://magento.com/company/leadership" title="Leadership">Leadership</a></li>
                    </ul>
                </div>
                <div id="f-col-2">
                    <div id="f-col-2-1">
                        <div class="contact-us">
                            <h4>Get in touch</h4>
                            <p>We'd like to hear from you! Call us, <br />send us an email or talk to sales.</p>
                            <a href="http://magento.com/company/contact-us" class="btn large copper">Contact Us</a>
                        </div>
                    </div>
                    <div id="f-col-2-2">
                        <div id="social-network">
                            <h4>Stay Connected</h4>
                            <ul>
                                <li><a class="btn-facebook" target="_blank" href="http://www.facebook.com/magento">Magento Facebook</a>
                                </li>
                                <li><a class="btn-twitter" target="_blank" href="https://twitter.com/magento">Magento Twitter</a></li>
                                <li><a class="btn-lnkdn" target="_blank" href="http://www.linkedin.com/groups?home=&amp;gid=146360&amp;trk=anet_ug_hm">Magento Linkedin</a></li>
                                <li><a class="btn-gplus" target="_blank" href="https://plus.google.com/+magento/posts">Magento Google+</a></li>
                                <li><a class="btn-youtube" target="_blank" href="http://www.youtube.com/user/magentocommerce/featured">Magento
                                    Youtube</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="f-col-3">
                    <div id="newsletter">
                        <h4>GET THE LATEST NEWS</h4>
                        <p>See Magento in the news, find press<br/> releases and resources for media.</p>
                        <div class="hold-form">
                            <div id="nws-notsubscribed">
                                <div id="sb-email" class="sb-email">
                                    <form method="post" enctype="application/x-www-form-urlencoded"
                                          action="//info2.magento.com/index.php/leadCapture/save" id="mktForm_1182" class="mktform"
                                          name="mktForm_1182" onsubmit="return validateForm();">
                                        <input class="fValidate['email'] input-topbg sb-email-input" name="Email" id="Email"
                                               placeholder="email address">
                                        <input type="hidden" name="formid" value="1182" />
                                        <button type="submit" class="sb-icon-submit btn outline">
                                            Sign Up
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="email-invalid hide">
                            <p>Please submit a valid email.</p>
                        </div>
                        <div class="email-ty hide">
                            <p>Thank you for submitting your email.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="copyright">
        <div class="container">
            <div class="copyright-date">&copy; 2016 Magento, Inc. All rights reserved.</div>
            <div class="copyright-links">
                <ul class="nav">
                    <li><a title="Privacy Policy" href="http://magento.com/legal/terms/privacy">Privacy Policy</a></li>
                    <li><a title="Terms of Service" href="http://magento.com/legal/terms">Terms of Service</a></li>
                    <li><a title="License/Trademark FAQ" href="http://magento.com/legal/licensing">License/Trademark FAQ</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="/common/js/jsCookie.js"></script>
<script src="/common/js/devdocs.js"></script>
<script src="/common/js/jquery-ui.min.js"></script>

<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script src="/js/app.js"></script>


<!--Google Custom Search-->
<script>
  (function() {
    var cx = '018116925022773002786:klu67apuihk';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>


<!--Google Analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-66243208-1', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>

